# Netlify Configuration for Silvia's List Frontend
# Next.js 15 Application with Server-Side API Routes
# Uses @netlify/plugin-nextjs for automatic Next.js optimization

[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"
  NEXT_TELEMETRY_DISABLED = "1"

# Next.js Plugin Configuration
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Security Headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    X-XSS-Protection = "1; mode=block"

# Environment Variables Configuration
# IMPORTANT: Set these in Netlify UI (Site Settings â†’ Environment Variables)
#
# Required Public Variables (NEXT_PUBLIC_*):
# - NEXT_PUBLIC_SUPABASE_URL = https://YOUR-PROJECT.supabase.co
# - NEXT_PUBLIC_SUPABASE_ANON_KEY = your_anon_key_here
# - NEXT_PUBLIC_RAILWAY_API_URL = https://your-parser.up.railway.app
#
# Required Private Variables (server-side only):
# - SUPABASE_SERVICE_ROLE_KEY = your_service_role_key_here
# - PARSER_API_KEY = your_parser_api_key_here
