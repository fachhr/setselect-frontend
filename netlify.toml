# Netlify Configuration for Silvia's List Frontend
# Next.js 15 Application with Server-Side API Routes
# Uses @netlify/plugin-nextjs for automatic Next.js optimization

[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"
  NEXT_TELEMETRY_DISABLED = "1"

# Next.js Plugin Configuration
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Security Headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    X-XSS-Protection = "1; mode=block"

# Environment Variables Configuration
# IMPORTANT: Set these in Netlify UI (Site Settings â†’ Environment Variables)
#
# Required Public Variables (NEXT_PUBLIC_*):
# - NEXT_PUBLIC_SUPABASE_URL = https://vwugqnddhdtlxmimihic.supabase.co
# - NEXT_PUBLIC_SUPABASE_ANON_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# - NEXT_PUBLIC_RAILWAY_API_URL = https://silvias-list-parser-production.up.railway.app
#
# Required Private Variables (server-side only):
# - SUPABASE_SERVICE_ROLE_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# - PARSER_API_KEY = 980BiVsk3yciUtt3nP1BiAymNcdYDsfT
